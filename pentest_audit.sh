#!/bin/bash

# Instalación de paquetes necesarios de forma desatendida
echo "Instalando paquetes necesarios..."
sudo apt update
sudo apt install -y nmap nikto gobuster

# Validar permisos con sudo
echo "Validando permisos con sudo..."
sudo -v

# Escaneo de puertos detallado con Nmap
echo "Realizando escaneo de puertos en ingeniumcodex.com..."
nmap -p- -sV -oN nmap_scan.txt ingeniumcodex.com

# Escaneo de vulnerabilidades web con Nikto
echo "Escaneando vulnerabilidades web en ingeniumcodex.com..."
nikto -h ingeniumcodex.com -output nikto_scan.txt

# Enumeración de directorios con Gobuster
echo "Enumerando directorios en ingeniumcodex.com..."
gobuster dir -u http://ingeniumcodex.com -w /usr/share/wordlists/dirb/common.txt -o gobuster_scan.txt

# Resultados
echo "¡Escaneo completo! Resultados disponibles en los archivos nmap_scan.txt, nikto_scan.txt y gobuster_scan.txt"
